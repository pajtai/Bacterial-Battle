(function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define(["jquery","backbone","raphael","Config","BacteriumView"],function(e,n,r,i,s){var o;return o=function(n){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,n),o.prototype.el=e("#medium"),o.prototype.initialize=function(){return this.render(),this.bacteriumViews={},this.glowingBacterium=!1},o.prototype.addMediator=function(e){this.mediator=e},o.prototype.render=function(){return this.paper=r(this.el,i.BoardWidth,i.BoardHeight)},o.prototype.raphael=function(){return this.paper},o.prototype.addBacterium=function(e){var t,n=this;return t=new s({model:e}),this.bacteriumViews["buid"+e.get("buid")]=t,t.render(this.paper),t.addListener(function(){return n.glowingBacterium&&n.glowingBacterium.removeGlowPermanently(),n.glowingBacterium===t?n.glowingBacterium=!1:(n.glowingBacterium=t,n.glowingBacterium.addGlow(),n.showInfo())})},o.prototype.showInfo=function(){var t,n,r;return t=this.glowingBacterium.model,n=this.glowingBacterium.model.get("position"),r=this.glowingBacterium.model.get("vector"),e("#info").html("<div class='row well'>          <div class='span1'>buid:<br/>  "+this.glowingBacterium.buid+"</div>          <div class='span1'>clan:<br/>  "+this.glowingBacterium.clanid+"</div>          <div class='span1'>Radius:<br/> "+Math.floor(t.get("radius"))+"</div>          <div class='span2'>Eaten:<br/> "+JSON.stringify(t.get("eaten"))+"</div>          <div class='span1'>x:<br/> "+Math.floor(n.x)+"</div>          <div class='span1'>y:<br/> "+Math.floor(n.y)+"</div>          <div class='span1'>direction:<br/> "+r.angle+"</div>          <div class='span1'>magnitude:<br/> "+r.magnitude+"</div>          <div class='span1'>age:<br/> "+this.glowingBacterium.model.get("age")+"</div>          <div class='span1'>strategy:<br/> "+t.get("strategy")+"</div>        </div>")},o.prototype.moveBacterium=function(e){return this.bacteriumViews["buid"+e.get("buid")].move()},o.prototype.kill=function(e){return this.bacteriumViews["buid"+e.get("buid")].kill()},o.prototype.tick=function(){if(this.glowingBacterium)return this.showInfo()},o}(n.View)})}).call(this)